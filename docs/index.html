<!doctype html><html lang="en" class="loading"><head><title>Amstramgram Pointer Detector - Demo & docs</title><meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta name="description" content="Ultra light ES6 class to detect used pointer."><meta name="author" content="onfaitdessites.fr"><link rel="apple-touch-icon" sizes="180x180" href="assets/ico/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="assets/ico/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="assets/ico/favicon-16x16.png"><meta name="viewport" id="viewport" content="width=device-width, initial-scale=1.0"><style>body,html{background:#121212;height:100%}.loading body{opacity:0;overflow-y:scroll}.loading:after,.loading:before{border-radius:50%;content:"";display:block;height:100px;left:50%;position:fixed;top:50%;width:100px}.loading:before{border:10px solid red;box-sizing:border-box;transform:translate(-50%,-50%)}.loading:after{animation:r 1.5s linear infinite;background:linear-gradient(90deg,#000,rgba(0,0,0,.9) 30%,rgba(0,0,0,.7) 70%,transparent)}@keyframes r{0%{transform:translate(-50%,-50%) rotate(0)}to{transform:translate(-50%,-50%) rotate(1turn)}}</style><script>var d=document,s=d.createElement("script");s.async="false",s.defer="true";try{eval("class test{#private;constructor(){}}"),console.log("Class private fields are supported"),s.type="module",s.src="js/index.js"}catch(e){console.log("Class private fields are not supported"),s.src="js/noModule/index.js"}d.head.appendChild(s);</script><script>if("function"!=typeof window.CustomEvent){console.log("Loading polyfill");var d=document,s=d.createElement("script");s.src="js/polyfills/polyfill.js",d.head.appendChild(s)}</script></head><body> <input class="menu-btn" type="checkbox" id="menu-btn" autocomplete="off"><header class="header"> <a href="https://github.com/Amstramgram75/Amstramgram-Pointer-Detector" class="logo">mstramgram <div> <div class="github"></div> <div> <div class="pointer">ointer </div><div class="detector">etector </div> </div> </div></a> </header><aside> <div class="aside"> <label class="menu-icon" for="menu-btn"><span></span></label> </div></aside> <div class="content-wrapper"> <div class="content"> <h2 id="what">What is it ?</h2><p class="text"> An ultra light ES6 singleton class to detect the pointer, listen to pointer type changes and add a specific class to all the HTMLElement you want when mouse is used.<br> 850 bytes minified, 422 gzipped... </p><h2 id="demo">Demo</h2><table class="text"> <tr> <td>Current pointer <span class="bold orange">detected</span></td> <td class="separator">&nbsp;:&nbsp;</td> <td class="bold red type">MOUSE</td> </tr> <tr> <td>Pointer Events Interface</td> <td class="separator">&nbsp;:&nbsp;</td> <td class="bold interface red">POINTER</td> </tr> </table><h2 id="installation">Installation</h2><h3>npm</h3><div class="code copy"> <pre><code class="language-shellsession">npm i -D amstramgram-pointer-detector</code></pre> </div><p> And then in your javascript : </p><div class="code copy"> <pre><code class="language-javascript">import pointerDetector from 'Amstramgram-Pointer-Detector'</code></pre> </div><h3>Manually</h3><p class="text"> Just <a href="https://downgit.github.io/#/home?url=https://github.com/Amstramgram75/Amstramgram-Event-Emitter/blob/master/src/amstramgramEventEmitter.js" target="_blank">download the source</a> and use it in your project.<br> </p><div class="code"> <pre><code class="language-javascript">import pointerDetector from './src_folder/amstramgramPointerDetector'</code></pre> </div><h2 id="usage">Usage</h2><div class="code"> <pre><code class="language-javascript">import pointerDetector from 'Amstramgram-Pointer-Detector'

//Add amst__mouse class to the body when mouse is used, remove it otherwise
pointerDetector.class('amst__mouse')

//Output "mouse", "touch" or "pointer" depending of the browser
console.log(pointerDetector.interface)

pointerDetector.on( _ => {
  console.log('Pointer is now ' + pointerDetector.type)
})
</code></pre> </div><h2 id="api">API</h2><h3>type</h3><div class="code"> <pre><code class="language-javascript">/**
* @getter type
* @returns {string} "mouse", "pen" or "touch"
*/
console.log(pointerDetector.type)
 </code></pre> </div><h3>interface</h3><div class="code"> <pre><code class="language-javascript">/**
* @getter interface
* @returns {string} "mouse", "pointer" or "touch"
*/
const p_interface = pointerDetector.interface
console.log(p_interface)

//Normalize pointer events
const
  pointerenter = (p_interface == 'touch') ? 'none' : p_interface + 'enter',
  pointerleave = (p_interface == 'touch') ? 'none' : p_interface + 'leave',
  pointerup = (p_interface == 'touch') ? 'touchend' : p_interface + 'up',
  pointerdown = (p_interface == 'touch') ? 'touchstart' : p_interface + 'down',
  pointermove = p_interface + 'move'

document.body.addEventListener(pointerup, e => console.log(e, pointerup))
 </code></pre> </div><h3>class</h3><div class="code"> <pre><code class="language-javascript">/**
* @param {String} mouseClass 
* @param {HTMLElement} [el = document.body ] 
* @description add the mouseClass class to the HTMLElement el when mouse is detected
*/
pointerDetector.class('amst__mouse')
pointerDetector.class('amst__mouse', document.querySelector('.myTestDiv'))
</code></pre> </div><h3>on</h3><div class="code"> <pre><code class="language-javascript">/**
* @param {function} : function to be called when pointerType changes
*/
pointerDetector.on(callback)
</code></pre> </div><h3>off</h3><div class="code"> <pre><code class="language-javascript">/**
* @param {function} : remove the given function from the on callbacks
*/
pointerDetector.off(callback)
</code></pre> </div><div></div> </div> </div> <div class="up"></div> <link rel="stylesheet" href="css/main.css" media="print" onload="this.media=&quot;all&quot;">  </body></html>